grammar edu.eci.prot.dsl2.Dsl2 with org.eclipse.xtext.common.Terminals

generate dsl2 "http://www.eci.edu/prot/dsl2/Dsl2"


Domainmodel:
    (elements+=PackageDeclaration)*;
 
PackageDeclaration:
    'package' name=QualifiedName '{'
        (elements+=Entity)*
    '}';
 
 
QualifiedName:
    ID ('.' ID)*;
 
Import:
    'import' importedNamespace=QualifiedNameWithWildcard;
  
QualifiedNameWithWildcard:
    QualifiedName '.*'?;
  
Type:
    DataType | EntityReference;
  
EntityReference:
	entity=[Entity]
;

DataType:
    pType=PrimitiveType;
    
PrimitiveType:
    name='Integer'|name='String'|name='Boolean'|name='Byte'|name='Character'|name='Double'|name='Float'|name='Long'|name='Short'|name='Number'|name='Date'
;
 
Entity:
    'entity' name=ID ('extends' superType=[Entity|QualifiedName])? '{'
    	(principal?='principal')?
    	(diagnostic?='diagnostic')?
    	(imports+=Import)*
        (features+=Feature)*
    '}';
 
Feature:
     name=ID ':' (many?='many')? (transient?='transient')? type= [Type | QualifiedName];